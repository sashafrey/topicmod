package artm.core;

import "messages.proto";

message Counters {
	repeated float value = 1 [packed = true];
}

message Flags {
	repeated bool value = 1 [packed = true];
}

message ProcessorInput
{
	required Batch batch = 1;
	repeated Flags stream_flags = 2;
	repeated string stream_name = 3;
}

message ProcessorOutput
{
	required int32 model_id = 1;
	required int32 topics_count = 2;
	optional int32 items_processed = 3;
	
	// The sum of token counters
	required Counters topic_counters = 4;
	
	// Counters for each token
	repeated Counters token_counters = 5;

	// Known tokens
	repeated string token = 6;

	// Newly discovered tokens, not yet included in matrix Phi.
	repeated string discovered_token = 7;
}
